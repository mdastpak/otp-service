# OTP Service Configuration
# Default values - override with environment variables (.env file)
# See .env for all available environment variables

redis:
  host: "localhost"                  # Override with REDIS_HOST
  port: 6379                         # Override with REDIS_PORT  
  password: ""                       # Override with REDIS_PASSWORD
  indices: "0-5"                     # Override with REDIS_INDICES
  key_prefix: ""                     # Override with REDIS_KEY_PREFIX (empty string disables prefix)
  timeout: 5                         # Override with REDIS_TIMEOUT

server:
  host: "localhost"                  # Override with SERVER_HOST
  port: 8080                         # Override with SERVER_PORT
  mode: "test"                       # Override with SERVER_MODE (release/test)
  timeout:
    read: 5                          # Override with SERVER_TIMEOUT_READ
    write: 10                        # Override with SERVER_TIMEOUT_WRITE
    idle: 120                        # Override with SERVER_TIMEOUT_IDLE
    read_header: 2                   # Override with SERVER_TIMEOUT_READ_HEADER
  tls: 
    enabled: false                   # Override with TLS_ENABLED
    cert_file: "cert.pem"            # Override with TLS_CERT_FILE
    key_file: "key.pem"              # Override with TLS_KEY_FILE
    client_certs: "client_certs.pem" # Override with TLS_CLIENT_CERTS; leave empty or omit to disable mutual TLS

config:
  hash_keys: true                    # Hash Redis keys for obfuscation; override with HASH_KEYS

# OTP Configuration defaults
otp:
  length: 6                          # Override with OTP_LENGTH
  expiry: "60s"                      # Override with OTP_EXPIRY
  max_attempts: 10                   # Override with OTP_MAX_ATTEMPTS  
  cleanup_interval: "30s"            # Override with OTP_CLEANUP_INTERVAL

# CORS Configuration defaults
cors:
  allowed_origins: "*"               # Override with CORS_ALLOWED_ORIGINS
  allowed_methods: "GET,POST,OPTIONS" # Override with CORS_ALLOWED_METHODS
  allowed_headers: "Content-Type,Authorization" # Override with CORS_ALLOWED_HEADERS
  exposed_headers: "Content-Length"  # Override with CORS_EXPOSED_HEADERS
  max_age: "3600"                   # Override with CORS_MAX_AGE
  allow_credentials: "true"          # Override with CORS_ALLOW_CREDENTIALS

# Security Configuration defaults
security:
  headers_enabled: false             # Override with SECURITY_HEADERS_ENABLED
  hsts_max_age: "0"                 # Override with HSTS_MAX_AGE
  csp_policy: ""                    # Override with CSP_POLICY
