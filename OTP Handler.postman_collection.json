{
	"info": {
		"_postman_id": "de41dacd-ab9b-4600-969d-2b62d60300c6",
		"name": "OTP Handler",
		"description": "# OTP Service API Documentation\n\n## Table of Contents\n\n- [Endpoints](#endpoints)\n    \n    - [Generate OTP](#generate-otp)\n        \n    - [Verify OTP](#verify-otp)\n        \n    - [Health Check](#health-check)\n        \n- [Postman Collection](#postman-collection)\n    \n- [Request Parameters](#request-parameters)\n    \n- [Response Structure](#response-structure)\n    \n- [Status Code Guide](#status-code-guide)\n    \n- [Configuration Indices](#configuration-indices)\n    \n\n## Endpoints\n\n### Generate OTP\n\n**URL**: `/`\n\n**Method**: `POST`\n\n**Description**: Generates a one-time password (OTP) and stores it in Redis. The OTP is uniquely associated with a UUID that will be returned in the response.\n\n#### Request Parameters\n\nThe following parameters can be sent via query string or in the request body as JSON.\n\n- `ttl` (optional, default: `60`): The time-to-live of the OTP in seconds. Must be between `1` and `3600`.\n    \n- `retry_limit` (optional, default: `5`): The maximum number of times the OTP can be retried. Must be between `1` and `60`.\n    \n- `code_length` (optional, default: `6`): The length of the OTP code. Must be between `1` and `10`.\n    \n- `strict_validation` (optional, default: `false`): If set to `true`, the service will enforce strict validation of the request body during verification.\n    \n- `use_alpha_numeric` (optional, default: `false`): If set to `true`, the OTP will contain letters and numbers; otherwise, only numbers.\n    \n\n#### Example Request\n\n``` bash\ncurl -X POST \"http://localhost:8080\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{ }'\n\n ```\n\n#### Example Response\n\n``` json\n{\n  \"status\": 200,\n  \"message\": \"OTP_GENERATED\",\n  \"info\": {\n    \"uuid\": \"1c11604d-47fa-442a-866a-231686e14a8b\"\n  }\n}\n\n ```\n\n### Verify OTP\n\n**URL**: `/`\n\n**Method**: `GET`\n\n**Description**: Verifies an OTP based on the UUID and OTP value provided.\n\n#### Request Parameters\n\n- `uuid` (required): The UUID associated with the OTP that was generated.\n    \n- `otp` (required): The OTP value to be verified.\n    \n\n#### Example Request\n\n``` bash\ncurl -X GET \"http://localhost:8080/?uuid=1c11604d-47fa-442a-866a-231686e14a8b&otp=447317\"\n\n ```\n\n#### Example Response\n\nIf the OTP is verified successfully:\n\n``` json\n{\n  \"status\": 200,\n  \"message\": \"OTP_VERIFIED\"\n}\n\n ```\n\nIf the OTP is invalid or expired:\n\n``` json\n{\n  \"status\": 401,\n  \"message\": \"OTP_INVALID\"\n}\n\n ```\n\n### Health Check\n\n**URL**: `/health`\n\n**Method**: `GET`\n\n**Description**: Checks the health status of the service, including Redis connectivity.\n\n#### Example Request\n\n``` bash\ncurl -X GET \"http://localhost:8080/health\"\n\n ```\n\n#### Example Response\n\n``` json\n{\n  \"status\": 200,\n  \"message\": \"SERVICE_HEALTH\",\n  \"info\": {\n    \"redis_status\": \"OK\",\n    \"config\": \"***********\",\n  }\n}\n\n ```\n\n## Postman Collection\n\nYou can find the Postman collection for this service [here](https://web.postman.co/workspace/be07ea85-299a-4d7f-a2c9-61cd33071f4b/collection/11658275-de41dacd-ab9b-4600-969d-2b62d60300c6).\n\n## Request Parameters\n\nThe OTP service supports passing parameters via either the query string or request body (in JSON format). The following parameters can be used:\n\n- `ttl`: Time-to-live for OTP in seconds.\n    \n- `retry_limit`: Maximum retries allowed.\n    \n- `code_length`: Length of the generated OTP.\n    \n- `strict_validation`: Enforce strict validation of the request body during verification.\n    \n- `use_alpha_numeric`: If the OTP should contain both letters and numbers.\n    \n\n## Response Structure\n\nAll API responses use the following standard structure:\n\n``` json\n{\n  \"status\": <int>,\n  \"message\": \"<string>\",\n  \"info\": <object>\n}\n\n ```\n\n- `status`: HTTP status code (e.g., `200` for success).\n    \n- `message`: Response message indicating the status (e.g., `OTP_GENERATED`, `OTP_VERIFIED`, etc.).\n    \n- `info`: Additional information related to the response (e.g., UUID for generated OTP).\n    \n\n## Status Code Guide\n\nBelow is a guide for various status codes and their meanings:\n\n| Status Code | Message | Description |\n| --- | --- | --- |\n| `200` | `OTP_GENERATED` | OTP was successfully generated. |\n| `200` | `OTP_VERIFIED` | OTP was successfully verified. |\n| `400` | `REQUEST_BODY_INVALID` | The request body is invalid or improperly formatted. |\n| `400` | `TTL_INVALID` | The `ttl` parameter is out of range. |\n| `400` | `RETRY_INVALID` | The `retry_limit` parameter is out of range. |\n| `400` | `CODE_LENGTH_INVALID` | The `code_length` parameter is out of range. |\n| `400` | `OTP_MISSING` | Required UUID or OTP is missing from request. |\n| `401`, `500` | `OTP_INVALID` | The provided OTP is incorrect. |\n| `401` | `OTP_EXPIRED` | The OTP has expired. |\n| `401` | `OTP_ATTEMPTS` | The OTP retry limit has been reached. |\n| `401` | `REQUEST_BODY_MISMATCH` | The request body does not match the expected data. |\n| `429` | `RATE_LIMIT_EXCEEDED` | Rate limit exceeded. |\n| `200`, `500` | `SERVICE_HEALTH` | Health check of the service, including Redis status. |\n\n## Additional Notes\n\n- Ensure Redis is running and configured properly for the OTP service to work.\n    \n- The `strict_validation` parameter helps ensure the request data matches what was used during OTP generation, adding an extra layer of security.\n    \n- The `retry_limit` parameter limits the number of incorrect attempts a user can make, providing basic protection against brute-force attacks.\n    \n\n### Examples of Requests with Strict Validation\n\nBelow are examples of requests that demonstrate the use of the `strict_validation` parameter.\n\n#### Example 1: Generate OTP with Strict Validation Disabled\n\n``` bash\ncurl --silent --location --request POST 'localhost:8080/' \\\n--data '{}'\n\n ```\n\n#### Example 2: Generate OTP with Strict Validation Disabled (Custom Parameters)\n\n``` bash\ncurl --silent --location --request POST 'localhost:8080/?ttl=120&retry_limit=10&code_length=10&strict_validation=false&use_alpha_numeric=true' \\\n--data '{}'\n\n ```\n\n#### Example 3: Generate OTP with Strict Validation Enabled\n\n``` bash\ncurl --silent --location --request POST 'localhost:8080/?ttl=60&retry_limit=5&code_length=6&strict_validation=true&use_alpha_numeric=false' \\\n--data '{\n    \"lowecase tag\": \"Value\",\n    \"UPPERCASE TAG\": \"VALUE\",\n    \"MULTIcase TaG\": \"VaLuE\",\n    \"Keys\": {\n        \"Key 1\": \"Val 1\",\n        \"Key 2\": \"Val 2\",\n        \"Key 3\": {\n            \"SubKey3-1\": \"Val 3-1\",\n            \"SubKey3-2\": \"Val 3-2\"\n        }\n    }\n}'\n\n ```\n\n#### Example 4: Verify OTP with No Strict Validation\n\n``` bash\ncurl --silent --location --request GET 'localhost:8080/?uuid=e63ee3c4-9ebe-42a3-8c2a-e05e88c468a4&otp=174464' \\\n--header 'Content-Type: application/json' \\\n--data '{}'\n\n ```\n\n#### Example 5: Verify OTP with Strict Validation Enabled\n\n``` bash\ncurl --silent --location --request GET 'localhost:8080/?uuid=e63ee3c4-9ebe-42a3-8c2a-e05e88c468a4&otp=174464' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"lowecase tag\": \"Value\",\n    \"UPPERCASE TAG\": \"VALUE\",\n    \"MULTIcase TaG\": \"VaLuE\",\n    \"Keys\": {\n        \"Key 1\": \"Val 1\",\n        \"Key 2\": \"Val 2\",\n        \"Key 3\": {\n            \"SubKey3-1\": \"Val 3-1\",\n            \"SubKey3-2\": \"Val 3-2\"\n        }\n    }\n}'\n\n ```\n\n## Redis Configuration\n\nThe OTP service utilizes multiple Redis indices for storing OTPs, as specified in the configuration file (`config.yaml`). The `REDIS.INDICES` configuration allows you to determine how many Redis databases are used to distribute OTPs.\n\n- **Single Index**: You can specify a single Redis index (e.g., `0`) to store all OTPs in a single Redis database.\n    \n- **Range of Indices**: You can specify a range of Redis indices (e.g., `0-3`). In this scenario, OTPs will be distributed among the specified Redis databases using a round-robin algorithm, which helps to balance the load.\n    \n\nThe `REDIS.INDICES` configuration is crucial for scaling the OTP service effectively, especially under high load. By distributing the OTPs across multiple Redis databases, the service can handle more concurrent requests and reduce contention for Redis resources.\n\nThe `REDIS.KEY_PREFIX` configuration allows you to set a prefix for all Redis keys used by the service. This can be useful for namespacing keys, especially if you are using a shared Redis instance for multiple services. If left empty (`\"\"`), no prefix will be added. Example: if the prefix is set to `\"OTP\"`, all keys will be stored as `\"OTP:\"`.\n\nThe `REDIS.TIMEOUT` configuration allows you to set a timeout for Redis connections. This is useful for ensuring that the service does not get stuck waiting for a Redis connection that is not responding. The default value is `5s`.\n\n### Additional Configuration Parameters\n\nThe OTP service also provides additional configuration parameters that can be adjusted in the `CONFIG` section of the configuration file.\n\n- **`CONFIG.HASH_KEY`**: If set to `true`, the Redis keys used to store OTPs are hashed using SHA-256. This helps to prevent any potential key collisions and makes the keys more secure. It is recommended to keep this value as `true` for production environments.\n    \n- **`SERVER.DEBUG`**: If set to `true`, the service will log additional debug information, which can be helpful for troubleshooting. It is recommended to keep this value as `false` for production environments.\n    \n\nIf you have any questions or issues, feel free to reach out for support.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "11658275"
	},
	"item": [
		{
			"name": "HealthCheck",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:8080/health",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"health"
					]
				}
			},
			"response": []
		},
		{
			"name": "Generate OTP",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						""
					]
				}
			},
			"response": [
				{
					"name": "None Params",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "ttl",
									"value": "60",
									"disabled": true
								},
								{
									"key": "retry_limit",
									"value": "5",
									"disabled": true
								},
								{
									"key": "code_length",
									"value": "6",
									"disabled": true
								},
								{
									"key": "strict_validation",
									"value": "false",
									"disabled": true
								},
								{
									"key": "use_alpha_numeric",
									"value": "false",
									"disabled": true
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				},
				{
					"name": "All Params",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/?ttl=120&retry_limit=10&code_length=10&strict_validation=false&use_alpha_numeric=true",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "ttl",
									"value": "120"
								},
								{
									"key": "retry_limit",
									"value": "10"
								},
								{
									"key": "code_length",
									"value": "10"
								},
								{
									"key": "strict_validation",
									"value": "false"
								},
								{
									"key": "use_alpha_numeric",
									"value": "true"
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				},
				{
					"name": "All Params via Strict Validation",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"lowecase tag\": \"Value\",\r\n    \"UPPERCASE TAG\": \"VALUE\",\r\n    \"MULTIcase TaG\": \"VaLuE\",\r\n    \"Keys\": {\r\n        \"Key 1\": \"Val 1\",\r\n        \"Key 2\": \"Val 2\",\r\n        \"Key 3\": {\r\n            \"SubKey3-1\": \"Val 3-1\",\r\n            \"SubKey3-2\": \"Val 3-2\"\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/?ttl=60&retry_limit=5&code_length=6&strict_validation=true&use_alpha_numeric=false",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "ttl",
									"value": "60"
								},
								{
									"key": "retry_limit",
									"value": "5"
								},
								{
									"key": "code_length",
									"value": "6"
								},
								{
									"key": "strict_validation",
									"value": "true"
								},
								{
									"key": "use_alpha_numeric",
									"value": "false"
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Verify OTP",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"lowecase tag\": \"Value\",\r\n    \"UPPERCASE TAG\": \"VALUE\",\r\n    \"MULTIcase TaG\": \"VaLuE\",\r\n    \"Keys\": {\r\n        \"Key 1\": \"Val 1\",\r\n        \"Key 2\": \"Val 2\",\r\n        \"Key 3\": {\r\n            \"SubKey3-1\": \"Val 3-1\",\r\n            \"SubKey3-2\": \"Val 3-2\"\r\n        }\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/?uuid=f3fc42be-f1ec-430c-bf8b-ff4a9130872a&otp=089544",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						""
					],
					"query": [
						{
							"key": "uuid",
							"value": "f3fc42be-f1ec-430c-bf8b-ff4a9130872a"
						},
						{
							"key": "otp",
							"value": "089544"
						}
					]
				}
			},
			"response": [
				{
					"name": "Verify OTP",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8080/?uuid&otp",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "uuid",
									"value": null
								},
								{
									"key": "otp",
									"value": null
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				},
				{
					"name": "Verify OTP via True Strict Validation",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8080/?uuid&otp",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "uuid",
									"value": null
								},
								{
									"key": "otp",
									"value": null
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				},
				{
					"name": "Verify OTP via Manipulated Strict Validation",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "localhost:8080/?uuid&otp",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								""
							],
							"query": [
								{
									"key": "uuid",
									"value": null
								},
								{
									"key": "otp",
									"value": null
								}
							]
						}
					},
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Generate & Verify OTP - Test Mode",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Response status code is 200', function () {\r",
							"    pm.expect(pm.response.code).to.equal(200);\r",
							"\r",
							"    // استخراج پارامترها از بدنه پاسخ\r",
							"    const responseJson = pm.response.json(); // تبدیل پاسخ به JSON\r",
							"    const uuid = responseJson.info.uuid; // مقدار uuid\r",
							"    const otp = responseJson.info.otp; // مقدار otp\r",
							"\r",
							"    console.log(\"Extracted UUID:\", uuid);\r",
							"    console.log(\"Extracted OTP:\", otp);\r",
							"\r",
							"    const baseUrl = pm.request.url.getRemote() + pm.request.url.getPath();\r",
							"    const body = pm.request.body.raw\r",
							"    console.log(\"Extracted body: \", body)\r",
							"\r",
							"    // ارسال درخواست دوم\r",
							"    pm.sendRequest({\r",
							"        url: `${baseUrl}?uuid=${uuid}&otp=${otp}`, // افزودن پارامترها به URL\r",
							"        method: 'GET', // نوع درخواست\r",
							"        header: {\r",
							"            'Content-Type': 'application/json', // سربرگ‌ها\r",
							"        },\r",
							"        body: body\r",
							"    }, function (err, res) {\r",
							"        if (err) {\r",
							"            console.error(\"Error in second request:\", err);\r",
							"        } else {\r",
							"            console.log(\"Second Request Response:\", res.json());\r",
							"            pm.test('Second Request Status Code is 200', function () {\r",
							"                pm.expect(res.status).to.equal(200);\r",
							"            });\r",
							"        }\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/?ttl=120",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						""
					],
					"query": [
						{
							"key": "ttl",
							"value": "120"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Generate & Verify OTP via All Params - Test Mode",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Response status code is 200', function () {\r",
							"    pm.expect(pm.response.code).to.equal(200);\r",
							"\r",
							"    // استخراج پارامترها از بدنه پاسخ\r",
							"    const responseJson = pm.response.json(); // تبدیل پاسخ به JSON\r",
							"    const uuid = responseJson.info.uuid; // مقدار uuid\r",
							"    const otp = responseJson.info.otp; // مقدار otp\r",
							"\r",
							"    console.log(\"Extracted UUID:\", uuid);\r",
							"    console.log(\"Extracted OTP:\", otp);\r",
							"\r",
							"    const baseUrl = pm.request.url.getRemote() + pm.request.url.getPath();\r",
							"    const body = pm.request.body.raw\r",
							"    console.log(\"Extracted body: \", body)\r",
							"\r",
							"    // ارسال درخواست دوم\r",
							"    pm.sendRequest({\r",
							"        url: `${baseUrl}?uuid=${uuid}&otp=${otp}`, // افزودن پارامترها به URL\r",
							"        method: 'GET', // نوع درخواست\r",
							"        header: {\r",
							"            'Content-Type': 'application/json', // سربرگ‌ها\r",
							"        },\r",
							"        body: body\r",
							"    }, function (err, res) {\r",
							"        if (err) {\r",
							"            console.error(\"Error in second request:\", err);\r",
							"        } else {\r",
							"            console.log(\"Second Request Response:\", res.json());\r",
							"            pm.test('Second Request Status Code is 200', function () {\r",
							"                pm.expect(res.status).to.equal(200);\r",
							"            });\r",
							"        }\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"lowecase tag\": \"Value\",\r\n    \"UPPERCASE TAG\": \"VALUE\",\r\n    \"MULTIcase TaG\": \"VaLuE\",\r\n    \"Keys\": {\r\n        \"Key 1\": \"Val 1\",\r\n        \"Key 2\": \"Val 2\",\r\n        \"Key 3\": {\r\n            \"SubKey3-1\": \"Val 3-1\",\r\n            \"SubKey3-2\": \"Val 3-2\"\r\n        }\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/?ttl=120&retry_limit=10&code_length=10&strict_validation=false&use_alpha_numeric=true",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						""
					],
					"query": [
						{
							"key": "ttl",
							"value": "120"
						},
						{
							"key": "retry_limit",
							"value": "10"
						},
						{
							"key": "code_length",
							"value": "10"
						},
						{
							"key": "strict_validation",
							"value": "false"
						},
						{
							"key": "use_alpha_numeric",
							"value": "true"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Generate & Verify OTP via Strict Validation - Test Mode",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Response status code is 200', function () {\r",
							"    pm.expect(pm.response.code).to.equal(200);\r",
							"\r",
							"    // استخراج پارامترها از بدنه پاسخ\r",
							"    const responseJson = pm.response.json(); // تبدیل پاسخ به JSON\r",
							"    const uuid = responseJson.info.uuid; // مقدار uuid\r",
							"    const otp = responseJson.info.otp; // مقدار otp\r",
							"\r",
							"    console.log(\"Extracted UUID:\", uuid);\r",
							"    console.log(\"Extracted OTP:\", otp);\r",
							"\r",
							"    const baseUrl = pm.request.url.getRemote() + pm.request.url.getPath();\r",
							"    const bodies = [pm.request.body.raw];\r",
							"\r",
							"    bodies.forEach((body) => {\r",
							"        console.log(\"Extracted body: \", body)\r",
							"\r",
							"        // ارسال درخواست دوم\r",
							"        pm.sendRequest({\r",
							"            url: `${baseUrl}?uuid=${uuid}&otp=${otp}`, // افزودن پارامترها به URL\r",
							"            method: 'GET', // نوع درخواست\r",
							"            header: {\r",
							"                'Content-Type': 'application/json', // سربرگ‌ها\r",
							"            },\r",
							"            body: body\r",
							"        }, function (err, res) {\r",
							"            if (err) {\r",
							"                console.error(\"Error in second request:\", err);\r",
							"            } else {\r",
							"                console.log(\"Second Request Response:\", res.json());\r",
							"                pm.test('Second Request Status Code is 200', function () {\r",
							"                    pm.expect(res.status).to.equal(200);\r",
							"                });\r",
							"            }\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"lowecase tag\": \"Value\",\r\n    \"UPPERCASE TAG\": \"VALUE\",\r\n    \"MULTIcase TaG\": \"VaLuE\",\r\n    \"Keys\": {\r\n        \"Key 1\": \"Val 1\",\r\n        \"Key 2\": \"Val 2\",\r\n        \"Key 3\": {\r\n            \"SubKey3-1\": \"Val 3-1\",\r\n            \"SubKey3-2\": \"Val 3-2\"\r\n        }\r\n    }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/?ttl=60&retry_limit=5&code_length=6&strict_validation=true&use_alpha_numeric=false",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						""
					],
					"query": [
						{
							"key": "ttl",
							"value": "60"
						},
						{
							"key": "retry_limit",
							"value": "5"
						},
						{
							"key": "code_length",
							"value": "6"
						},
						{
							"key": "strict_validation",
							"value": "true"
						},
						{
							"key": "use_alpha_numeric",
							"value": "false"
						}
					]
				}
			},
			"response": []
		}
	]
}