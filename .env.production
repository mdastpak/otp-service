# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_INDICES=0-15
REDIS_KEY_PREFIX=otp:prod:
REDIS_TIMEOUT=5
REDIS_POOL_SIZE=100
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100ms

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_MODE=release

# Server Timeouts (optimized for production)
SERVER_TIMEOUT_READ=10
SERVER_TIMEOUT_WRITE=15
SERVER_TIMEOUT_IDLE=180
SERVER_TIMEOUT_READ_HEADER=5

# Rate limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60s

# =============================================================================
# TLS CONFIGURATION (Production should use TLS)
# =============================================================================
TLS_ENABLED=true
TLS_CERT_FILE=/certs/server.crt
TLS_KEY_FILE=/certs/server.key
TLS_CLIENT_CERTS=/certs/ca.crt

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
HASH_KEYS=true
CORS_ALLOWED_ORIGINS=https://yourapp.com,https://api.yourapp.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Origin,Content-Type,Accept,Authorization,Cache-Control
CORS_EXPOSED_HEADERS=Content-Length,Content-Type
CORS_MAX_AGE=86400
CORS_ALLOW_CREDENTIALS=true

# Security headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_POLICY=default-src 'self'; frame-ancestors 'none';

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=/logs/otp-service.log
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=5
LOG_MAX_AGE=30
LOG_COMPRESS=true

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
TRACING_ENABLED=true
TRACING_ENDPOINT=${JAEGER_ENDPOINT}

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
OTP_LENGTH=6
OTP_EXPIRY=300s
OTP_MAX_ATTEMPTS=5
OTP_CLEANUP_INTERVAL=600s

# Database connection pool
DB_MAX_OPEN_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5
DB_CONNECTION_MAX_LIFETIME=300s